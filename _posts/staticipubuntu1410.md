---
title: 'Q&A:Ubuntu中如何配置静态IP？'
tags:
  - Ubuntu
  - 系统配置
url: 404.html
id: 404
categories:
  - 工作室动态
date: 2015-01-07 20:22:05
---

### 问

浙江师范大学匿名学生：老师好，我按您的建议安装试用Ubuntu Desktop版本后，发现默认是以DHCP方式获取IP的，因为我在上面架了一个网站，能否改成静态IP？

### 答

可以按照以下的方法来进行静态地址的配置：

首先打开网卡的配置文件：sudo vim /etc/network/interfaces ，默认的设置是： `auto eth0 iface eth0 inet dhcp` 用“#”注释或者删除掉原先配置，修改为： `auto eth0 iface eth0 inet static address 10.1.190.243 netmask 255.255.255.192 gateway 10.1.190.193`

### 配置DNS

继续编辑DNS配置文件：sudo vim /etc/resolvconf/resolv.conf.d/base ，添加DNS信息： `nameserver 10.1.67.15 nameserver 10.1.118.4`

### 重新启动网络

直接调用系统命令就可以了：sudo /etc/init.d/networking restart。重启后也可以检测一下网络通不通，比如ping一个外网的域名： `lester@pd03:~$ ping www.sina.com.cn PING taurus.sina.com.cn (61.172.201.18) 56(84) bytes of data. 64 bytes from 61.172.201.18: icmp_seq=1 ttl=52 time=7.57 ms 64 bytes from 61.172.201.18: icmp_seq=2 ttl=52 time=7.63 ms 64 bytes from 61.172.201.18: icmp_seq=3 ttl=52 time=7.84 ms 64 bytes from 61.172.201.18: icmp_seq=4 ttl=52 time=7.57 ms 64 bytes from 61.172.201.18: icmp_seq=5 ttl=52 time=7.57 ms 64 bytes from 61.172.201.18: icmp_seq=6 ttl=52 time=7.50 ms`

### 附注

有朋友告诉我DNS这一步修改/etc/resolv.conf 来增加DNS服务器也可以。说明一下，在当前服务器运行周期是一样可以起效的，但是重启之后会恢复原先的默认值，所以还是要修改/etc/resolvconf/resolv.conf.d/base。其实在/etc/resolv.conf开头有一行提醒用的注释：“# DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN”（不要手动修改此文件，变动会被重写）。